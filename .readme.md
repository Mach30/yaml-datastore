!toc (numbered)

# Introduction

![Bart Simpson in front of chalkboard writing repeatedly "GIT IS NOT A DATABASE"](./bartsimpsonmeme.png)
</br>
"Git is not a database."—but what if it was? With YAML datastore, you can make your data Git-friendly. YAML Datastore is a lightweight library that stores and manages data with structured plaintext files and YAML syntax, designed for use with version control systems. This enables you to gain the advantages of Git for your data—track changes at the feature level, store data across multiple systems, and merge data seamlessly. 

## What is YAML Datastore
- The YAML Datastore library is a Typescript library (can be used with Typescript and Javascript projects) designed to provide a lightweight, simple, human-readable data storage and retrieval using YAML files.
- It serves as an alternative to traditional databases that do not store data in a version control-friendly way.

### Components
- CRUD Functions
- - The `store` and `load` transform in-memory objects and lists into structured YAML files and back.

- ### CLI Tools
- `yds-store`: Command-line interface for storing data.
- `yds-load`: Command-line interface for loading data.
- `yds-ids`: Command-line interface for generating ids

### Helper Classes
- Results class captures operation outcomes, including status and content.

## Goals
YAML Datastore exists because we don't want to add Git-like features to how we store and manage data—we want to do data management in a way that fits in Git. We found that existing systems attempting to use Git as a backend did not account properly for structure. YAML Datastore automatically manages the complexity of data stored with easy to understand rules. 

## Getting Started
1. Installation Steps

## Documentation Overview
The documentation below provides comprehensive details about all the Data Types with examples. typedoc generated documentation

Deep dive into the algorithm, rationale for how it works
then a series of examples demonstrating the algorithm and use cases (Cover top level) section on API, section on examples

!include(docs/README.md)

# On Disk Representation

This section explains how the YAML Datastore library organizes and stores data on disk. It covers the algorithm used to transform in-memory objects and lists into a collection of YAML files, the data types supported, and the conventions followed for file layout. 

## Explanation of the Algorithm

The datastore uses a set of straightforward rules to map the data into YAML files and directories. This approach ensures that data is always human-readable, modular, and easy to reconstruct.

### What Can Be Stored
You can store:
- **Objects**: Any object with key-value pairs, including nested objects.
- **Lists (Arrays)**: Arrays of values, objects, or other lists.
- **Nested Structures**: Both objects and lists can be nested to any depth, allowing you to represent complex models.

### Data Types
The algorithm supports **simple** and **complex** data types:
- **Simple Types**: Strings, numbers, booleans, nulls. These are stored directly in the YAML file.
- **Complex Types**: Multi-line strings, large objects/lists, and references. 
  - Multi-line strings are stored in separate files, referenced from their parent object.
  - Nested objects and lists can be split into their own files for modularity and clarity.
    
### Storage Approach
When you store data:
- The top-level object or list is written to a YAML file in the designated directory.
- Simple values (numbers, strings, booleans) are saved inline.
- Complex values (multi-line strings, nested objects/lists) are saved in separate files. Their parent YAML file contains a special marker referencing the file (e.g., `((filename.yaml))`).
- Each object or list gets a unique filename or directory structure based on its name and position in the hierarchy.

## Data Types and their On Disk Representations

!include(test/spec/1.1_object_with_simple_data_types/README.md)

!include(test/spec/1.2.1_object_with_complex_string/README.md)

!include(test/spec/1.2.2_object_with_object_of_simple_data_types/README.md)
